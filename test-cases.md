# üìã –¢–µ—Å—Ç-–∫–µ–π—Å—ã –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏ —Ç—É—Ä–∞

## üîç UI –¢–µ—Å—Ç—ã

| ID   | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞                                 | –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è                              | –®–∞–≥–∏                                                                                   | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç                                                | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|------------------------------------------------|------------------------------------------|----------------------------------------------------------------------------------------|--------------------------------------------------------------------|-----------|
| UI-1 | –£—Å–ø–µ—à–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ —Ç—É—Ä–∞ –ø–æ –∫–∞—Ä—Ç–µ                 | –û—Ç–∫—Ä—ã—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ                       | 1. –ù–∞–∂–∞—Ç—å "–ö—É–ø–∏—Ç—å" <br> 2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã <br> 3. –ù–∞–∂–∞—Ç—å "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" | –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ                        | High      |
| UI-2 | –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ –ø–æ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ   | –û—Ç–∫—Ä—ã—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ                       | –¢–æ –∂–µ, –Ω–æ –∫–∞—Ä—Ç–∞ "DECLINED"                                                             | –ü–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ "–û—à–∏–±–∫–∞! –ë–∞–Ω–∫ –æ—Ç–∫–∞–∑–∞–ª –≤ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏"     | High      |
| UI-3 | –ü–æ–∫—É–ø–∫–∞ –≤ –∫—Ä–µ–¥–∏—Ç —Å –æ–¥–æ–±—Ä–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ–π           | –û—Ç–∫—Ä—ã—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ                       | –ö–ª–∏–∫ "–ö—É–ø–∏—Ç—å –≤ –∫—Ä–µ–¥–∏—Ç" ‚Üí –≤–≤–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã "APPROVED" ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å                    | –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∑–∞—è–≤–∫–∏                            | High      |
| UI-4 | –û—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—è—Ö                 | –û—Ç–∫—Ä—ã—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ                       | –ù–∞–∂–∞—Ç—å "–ö—É–ø–∏—Ç—å", –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—è –ø—É—Å—Ç—ã–º–∏ ‚Üí "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"                                  | –ü–æ–¥ –∫–∞–∂–¥—ã–º –ø–æ–ª–µ–º –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ                    | Medium    |
| UI-5 | –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–µ—Å—è—Ü–∞      | –û—Ç–∫—Ä—ã—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ                       | –í–≤–µ—Å—Ç–∏ "13" –≤ –ø–æ–ª–µ "–ú–µ—Å—è—Ü"                                                             | –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç"                              | Medium    |
| UI-6 | –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ä—Ç—ã | –û—Ç–∫—Ä—ã—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ                       | –í –ø–æ–ª–µ "–í–ª–∞–¥–µ–ª–µ—Ü" –≤–≤–µ—Å—Ç–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—É –∏–ª–∏ —Ü–∏—Ñ—Ä—ã                                           | –°–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç" –ø–æ–¥ –ø–æ–ª–µ–º "–í–ª–∞–¥–µ–ª–µ—Ü"                   | Medium    |

## üîå API –¢–µ—Å—Ç—ã

| ID    | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞                                | –ú–µ—Ç–æ–¥ | Endpoint             | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞                                                  | –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç                       | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|-------|-----------------------------------------------|-------|----------------------|---------------------------------------------------------------|---------------------------------------|-----------|
| API-1 | –û–ø–ª–∞—Ç–∞ —Ç—É—Ä–∞ –ø–æ –æ–¥–æ–±—Ä–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ               | POST  | /api/v1/pay          | –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã "APPROVED"                                       | 200 OK, —Å—Ç–∞—Ç—É—Å = "APPROVED"           | High      |
| API-2 | –û–ø–ª–∞—Ç–∞ —Ç—É—Ä–∞ –ø–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ              | POST  | /api/v1/pay          | –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã "DECLINED"                                       | 200 OK, —Å—Ç–∞—Ç—É—Å = "DECLINED"           | High      |
| API-3 | –ö—Ä–µ–¥–∏—Ç –ø–æ –æ–¥–æ–±—Ä–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ                    | POST  | /api/v1/credit       | –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã "APPROVED"                                       | 200 OK, —Å—Ç–∞—Ç—É—Å = "APPROVED"           | High      |
| API-4 | –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –ø—É—Å—Ç–æ–≥–æ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞      | POST  | /api/v1/pay          | {}                                                            | 400 Bad Request                       | Medium    |
| API-5 | –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã| POST  | /api/v1/credit       | –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã 0000000000000000                                  | 200 OK, —Å—Ç–∞—Ç—É—Å = "DECLINED"           | Medium    |

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

| ID     | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞                                | –û–ø–∏—Å–∞–Ω–∏–µ                                                          | SQL-–ø—Ä–æ–≤–µ—Ä–∫–∞                                                            | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç                                     | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|-----------------------------------------------|-------------------------------------------------------------------|-------------------------------------------------------------------------|---------------------------------------------------------|-----------|
| DB-1   | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏ —É—Å–ø–µ—à–Ω–æ–π –ø–æ–∫—É–ø–∫–∏              | –°–æ–≤–µ—Ä—à–∏—Ç—å –æ–ø–ª–∞—Ç—É –∫–∞—Ä—Ç–æ–π "APPROVED"                                | SELECT status FROM payment_entity ORDER BY created DESC LIMIT 1;        | –°—Ç–∞—Ç—É—Å: APPROVED                                        | High      |
| DB-2   | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω–æ–π –ø–æ–∫—É–ø–∫–∏           | –°–æ–≤–µ—Ä—à–∏—Ç—å –æ–ø–ª–∞—Ç—É –∫–∞—Ä—Ç–æ–π "DECLINED"                                | SELECT status FROM payment_entity ORDER BY created DESC LIMIT 1;        | –°—Ç–∞—Ç—É—Å: DECLINED                                        | High      |
| DB-3   | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏ –∫—Ä–µ–¥–∏—Ç–∞ –ø–æ –∫–∞—Ä—Ç–µ              | –ü–æ–∫—É–ø–∫–∞ "–≤ –∫—Ä–µ–¥–∏—Ç" –∫–∞—Ä—Ç–æ–π "APPROVED"                              | SELECT status FROM credit_request_entity ORDER BY created DESC LIMIT 1; | –°—Ç–∞—Ç—É—Å: APPROVED                                        | High      |
| DB-4   | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏                | –°–¥–µ–ª–∞—Ç—å –ø–ª–∞—Ç—ë–∂/–∫—Ä–µ–¥–∏—Ç                                             | –°—Ä–∞–≤–Ω–∏—Ç—å order_id —Å id –∏–∑ payment_entity –∏–ª–∏ credit_request_entity      | –ó–Ω–∞—á–µ–Ω–∏—è —Å–æ–≤–ø–∞–¥–∞—é—Ç                                      | Medium    |

---

### ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ

- UI-—Ç–µ—Å—Ç—ã: —Ñ–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã, –∫—Ä–µ–¥–∏—Ç, –æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞
- API: –æ–±–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã, –æ—à–∏–±–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ë–î: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–µ–π –∏ —Å–≤—è–∑–∏
